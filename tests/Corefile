. {
    # To log healthcheck results
    debug

    # Expose Prometheus metrics on /metrics (default port 9153)
    prometheus :9153

    # Load SOA zone from a file
    file db.gslb.example.com gslb.example.com

    # Configure the GSLB plugin with the specified parameters
    gslb {
        zones {
            app-x.gslb.example.com /coredns/appX_records.yml
            app-y.gslb.example.com /coredns/appY_records.yml
        }
        geoip_maxmind {
            country_db /coredns/GeoLite2-Country.mmdb
            city_db /coredns/GeoLite2-City.mmdb
            asn_db /coredns/GeoLite2-ASN.mmdb
        }
        geoip_custom /coredns/location_map.yml # Enable GeoIP by region/subnet (YAML map)
        use_edns_csubnet
        max_stagger_start 120s # Maximum delay for staggered start
        resolution_idle_timeout 3600s # Idle timeout for resolution
        batch_size_start 100 # Number of records to start on each batch
    }
}
